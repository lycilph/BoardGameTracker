@page "/identity/account"

<MudPaper Elevation="25" Class="mb-2">
    <MudToolBar>
        <MudText Typo="Typo.h5">Account</MudText>
    </MudToolBar>
    @if (loading)
    {
        <MudProgressLinear Color="Color.Primary" Indeterminate="true" />
    }
</MudPaper>

<MudGrid>
    <MudItem xs="12" sm="4" md="3">
        <MudCard>
            <MudCardContent>
                <MudPaper Class="d-flex justify-center py-4"
                          Elevation="0">
                    <MudAvatar Color="Color.Secondary"
                               Style="height:75px; width:75px;">
                        @username.ToUpper().FirstOrDefault()
                    </MudAvatar>
                </MudPaper>
                <MudPaper Class="d-flex justify-start gap-4 py-4" Elevation="0">
                    <MudStack>
                        <MudText>User</MudText>
                        <MudText>BGG</MudText>
                        <MudText>Email</MudText>
                    </MudStack>
                    <MudStack>
                        <MudText>@username</MudText>
                        <MudText>@bgg_username</MudText>
                        <MudText>@email</MudText>
                    </MudStack>
                </MudPaper>

                <MudPaper Class="d-flex justify-start gap-4 py-4" Elevation="0">
                    <MudStack>
                        <MudText Typo="Typo.body2">Account created</MudText>
                        <MudText Typo="Typo.body2" Class="mt-n2">Last active</MudText>
                    </MudStack>
                    <MudStack>
                        <MudText Typo="Typo.body2">@account_created</MudText>
                        <MudText Typo="Typo.body2" Class="mt-n2">@last_active</MudText>
                    </MudStack>
                </MudPaper>
            </MudCardContent>
        </MudCard>
    </MudItem>

    <MudItem xs="12" sm="8" md="9">
        <MudTabs Elevation="2"
                 Rounded="true"
                 ApplyEffectsToContainer="true"
                 PanelClass="pa-6">
            <MudTabPanel Text="Account">
                <UpdateAccount IsLoading="OnLoadingChanged" />
            </MudTabPanel>
            <MudTabPanel Text="Email">
                <UpdateEmail IsLoading="OnLoadingChanged" />
            </MudTabPanel>
            <MudTabPanel Text="Security">
                <UpdatePassword IsLoading="OnLoadingChanged" />
            </MudTabPanel>
            <MudTabPanel Text="Other">
                <DeleteAccount IsLoading="OnLoadingChanged" />
            </MudTabPanel>
        </MudTabs>
    </MudItem>
</MudGrid>