@page "/identity/account"

<MudPaper Elevation="25" Class="mb-2">
    <MudToolBar>
        <MudText Typo="Typo.h5">Account</MudText>
    </MudToolBar>
    @if (loading)
    {
        <MudProgressLinear Color="Color.Primary" Indeterminate="true" />
    }
</MudPaper>

<MudGrid>
    <MudItem xs="12" sm="4" md="3">
        <MudCard>
            <MudCardContent>
                <MudPaper Class="d-flex justify-center py-4"
                          Elevation="0">
                    <MudAvatar Color="Color.Secondary"
                               Style="height:75px; width:75px;">
                        @username.ToUpper().FirstOrDefault()
                    </MudAvatar>
                </MudPaper>
                <MudText Class="mt-4">User: @username</MudText>
                <MudText>BGG: @bgg_username</MudText>
                <MudText>Email: @email</MudText>
                <MudText Typo="Typo.body2" Class="mt-2">Account created: [2022-11-20]</MudText>
                <MudText Typo="Typo.body2" Class="mt-n2">Last login: [2022-11-20]</MudText>
            </MudCardContent>
        </MudCard>
    </MudItem>

    <MudItem xs="12" sm="8" md="9">
        <MudTabs Elevation="2"
                 Rounded="true"
                 ApplyEffectsToContainer="true"
                 PanelClass="pa-6">
            <MudTabPanel Text="Account">
                <UpdateAccount IsLoading="OnLoadingChanged" />
            </MudTabPanel>
            <MudTabPanel Text="Email">
                <UpdateEmail IsLoading="OnLoadingChanged" />
            </MudTabPanel>
            <MudTabPanel Text="Security">
                <UpdatePassword IsLoading="OnLoadingChanged" />
            </MudTabPanel>
            <MudTabPanel Text="Other">
                <DeleteAccount IsLoading="OnLoadingChanged" />
            </MudTabPanel>
        </MudTabs>
    </MudItem>
</MudGrid>