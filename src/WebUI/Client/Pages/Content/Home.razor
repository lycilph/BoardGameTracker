@page "/content/home"
@page "/"
@inject NavigationManager NavigationManager

<MudGrid Justify="Justify.Center">
    <MudItem xs="12">
        <MudPaper Class="d-flex align-center justify-center mud-width-full py-8">
            <MudText Typo="Typo.h2">BoardGameTracker</MudText>
        </MudPaper>
    </MudItem>
    <MudItem xs="10" md="3" Class="mx-2">
        <MudPaper Class="py-8" @onclick=@(() => NavigationManager.NavigateTo("/content/collection"))>
            <MudStack>
                <MudText Align="Align.Center" Typo="Typo.h5">Collection</MudText>
                <MudText Align="Align.Center"># Games in collection</MudText>
            </MudStack>
        </MudPaper>
    </MudItem>
    <MudItem xs="10" md="3" Class="mx-2">
        <MudPaper Class="py-8">
            <MudStack>
                <MudText Align="Align.Center" Typo="Typo.h5">Plays</MudText>
                <MudText Align="Align.Center"># plays logged</MudText>
            </MudStack>
        </MudPaper>
    </MudItem>
    <MudItem xs="10" md="3" Class="mx-2">
        <MudPaper Class="py-8">
            <MudStack>
                <MudText Align="Align.Center" Typo="Typo.h5">Challenges</MudText>
                <MudText Align="Align.Center"># Challenges open</MudText>
            </MudStack>
        </MudPaper>
    </MudItem>
</MudGrid>

<MudText Typo="Typo.h4" Class="mt-12">BoardGameGeek Hotness List</MudText>
@if (!games.Any())
{
    <MudPaper Class="d-flex justify-center mud-width-full py-8"
          Elevation=0>
        <MudStack Row="true">
            @for (int i = 0; i < 3; i++)
            {
                <MudSkeleton Width="200px" Height="400px"/>
            }
        </MudStack>
    </MudPaper>
}
else
{
    <MudStack Row=true Class="mt-4 py-2 overflow-scroll">
        @foreach (var game in games)
        {
            <MudCard Class="mx-2" @onclick="(() => GameClick(game))">
                <MudImage Src="@game.Thumbnail" Width="200" Height="200" ObjectFit="ObjectFit.Cover" />
                <MudCardContent>
                    <MudText Typo="Typo.body2">@game.Name</MudText>
                </MudCardContent>
            </MudCard>
        }
    </MudStack>
}